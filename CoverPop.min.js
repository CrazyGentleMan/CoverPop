(function(e,t,n){function a(e){var t={};return e&&t.toString.call(e)==="[object Function]"}function f(e){if(window.console&&window.console.log&&r.info){window.console.log(e)}}function l(e){var t=new Date;t.setTime(+t+e*864e5);document.cookie=r.cookieName+"=true; expires="+t.toGMTString()+"; path=/";f("Cookie "+r.cookieName+" set for "+e+" days away.")}function c(){if(document.cookie.indexOf(r.cookieName)!==-1)return true;return false}function h(e){if(window.location.hash.indexOf(e)!==-1)return true;return false}var r={coverClass:"CoverPop-cover",fadeInDuration:500,fadeOutDuration:500,expires:30,closeClassNoDefault:"CoverPop-close",closeClassDefault:"CoverPop-close-go",cookieName:"CoverPop",onPopUpOpen:function(){},onPopUpClose:function(){},forceHash:"splash",delayHash:"go",closeOnEscape:true,info:false};var i={$html:e("html"),$cover:e("."+r.coverClass)};var s=function(){if(a(r.onPopUpOpen)){r.onPopUpOpen.call(self);f("CoverPop is open.")}};var o=function(e){if(r.closeOnEscape){if(e.keyCode===27){closePopUp()}}};var u=function(){if(a(r.onPopUpClose)){r.onPopUpClose.call(self);f("CoverPop is closed.")}};t.openPopUp=function(){if(h(r.delayHash)){l(1);return}i.$html.addClass("coverPop-open");i.$cover.fadeIn(r.fadeInDuration,s);if(e("."+r.closeClassNoDefault).length){e(document).on("click","."+r.closeClassNoDefault,function(e){e.preventDefault();t.closePopUp()})}if(e("."+r.closeClassDefault).length){e(document).on("click","."+r.closeClassDefault,function(e){t.closePopUp()})}e(document).bind("keyup",o)};t.closePopUp=function(){i.$html.removeClass("coverPop-open");i.$cover.fadeOut(r.fadeOutDuration,u);l(r.expires);e(document).unbind("keyup",o)};t.init=function(n){r=e.extend(r,n);if(c()===false||h(r.forceHash)===true){t.openPopUp()}}})(jQuery,window.CoverPop=window.CoverPop||{})
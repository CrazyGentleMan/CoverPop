(function(b){b.fn.coverPop=function(s){function i(c){var d={};return c&&d.toString.call(c)==="[object Function]"}function f(c){window.console&&window.console.log&&a.info&&window.console.log(c)}function j(c){var d=new Date;d.setTime(+d+c*864E5);document.cookie=a.cookieName+"=true; expires="+d.toGMTString()+"; path=/";f("Cookie "+a.cookieName+" set for "+c+" days away.")}function k(c){if(window.location.hash.indexOf(c)!==-1)return true;return false}var a={coverClass:"coverPop-cover",contentClass:"coverPop-content",
fadeInDuration:500,fadeOutDuration:500,expires:30,jsCenter:false,closeClassNoDefault:"coverPop-close",closeClassDefault:"coverPop-close-go",cookieName:"coverPop",onPopUpOpen:function(){},onPopUpClose:function(){},forceHash:"splash",delayHash:"go",closeOnEscape:true,info:false};b.extend(a,s);var g=b("html");b("body");var l=b("."+a.coverClass);b("."+a.contentClass);return this.each(function(){function c(e){var m=e.height(),n=e.width(),t=b(window).width(),o=b(window).height();f("content height: "+m+
", content width: "+n);e.css({position:"absolute",left:Math.round(t/2-n/2),top:Math.round(o/2-m/2-o/100*5),margin:0});f("centered")}function d(){if(k(delayHash))j(1);else{g.addClass("coverPop-open");l.fadeIn(a.fadeInDuration,function(){if(i(a.onPopUpOpen)){a.onPopUpOpen.call(p);f("CoverPop is open.")}if(a.jsCenter){c(a.content);b(window).on("resize",function(){c(a.content)})}});a.closeClassNoDefault.length&&b(document).on("click","."+a.closeClassNoDefault,function(e){e.preventDefault();h()});a.closeClassDefault.length&&
b(document).on("click","."+a.closeClassDefault,function(){h()});b(document).bind("keyup",q)}}function h(){g.removeClass("coverPop-open");g.removeClass("coverPop-open");l.fadeOut(a.fadeOutDuration,function(){if(i(a.onPopUpClose)){a.onPopUpClose.call(p);f("CoverPop is closed.")}});j(a.expires);b(document).unbind("keyup",q)}function q(e){a.closeOnEscape&&e.keyCode===27&&h()}var p=b(this),r;r=document.cookie.indexOf(a.cookieName)!==-1?true:false;if(r===false||k(a.forceHash)===true)d()})}})(jQuery);
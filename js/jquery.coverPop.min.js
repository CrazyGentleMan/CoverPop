(function(b){b.fn.coverPop=function(q){function i(c){var f={};return c&&f.toString.call(c)==="[object Function]"}function g(c){window.console&&window.console.log&&a.info&&window.console.log(c)}function r(){var c=new Date,f=a.expires;c.setTime(+c+f*864E5);document.cookie=a.cookieName+"=true; expires="+c.toGMTString()+"; path=/";g("Cookie "+a.cookieName+" set for "+f+" days away.")}var a={coverClass:"coverPop-cover",contentClass:"coverPop-content",fadeInDuration:500,fadeOutDuration:500,expires:30,jsCenter:false,
closeClass:"coverPop-close",cookieName:"coverPop",onPopUpOpen:function(){},onPopUpClose:function(){},forceHash:"splash",closeOnEscape:true,info:false};b.extend(a,q);var h=b("html");b("body");var j=b("."+a.coverClass);b("."+a.contentClass);return this.each(function(){function c(d){var k=d.height(),l=d.width(),s=b(window).width(),m=b(window).height();g("content height: "+k+", content width: "+l);d.css({position:"absolute",left:Math.round(s/2-l/2),top:Math.round(m/2-k/2-m/100*5),margin:0});g("centered")}
function f(){h.addClass("coverPop-open");j.fadeIn(a.fadeInDuration,function(){if(i(a.onPopUpOpen)){a.onPopUpOpen.call(n);g("CoverPop is open.")}if(a.jsCenter){c(a.content);b(window).on("resize",function(){c(a.content)})}});a.closeClass.length&&b(document).on("click","."+a.closeClass,function(d){d.preventDefault();o()});b(document).bind("keyup",p)}function o(){h.removeClass("coverPop-open");h.removeClass("coverPop-open");j.fadeOut(a.fadeOutDuration,function(){if(i(a.onPopUpClose)){a.onPopUpClose.call(n);
g("CoverPop is closed.")}});r();b(document).unbind("keyup",p)}function p(d){a.closeOnEscape&&d.keyCode===27&&o()}var n=b(this),e;e=document.cookie.indexOf(a.cookieName)!==-1?true:false;if(!(e=e===false)){e=window.location.hash.indexOf(a.forceHash)!==-1?true:false;e=e===true}e&&f()})}})(jQuery);
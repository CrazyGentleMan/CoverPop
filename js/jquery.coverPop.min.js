(function(e){"use strict";e.fn.coverPop=function(t){function u(e){var t={};return e&&t.toString.call(e)==="[object Function]"}function a(e){if(window.console&&window.console.log&&n.info){window.console.log(e)}}function f(){var e=new Date,t=n.expires;e.setTime(+e+t*864e5);document.cookie=n.cookieName+"=true; expires="+e.toGMTString()+"; path=/";a("Cookie "+n.cookieName+" set for "+t+" days away.")}function l(){if(document.cookie.indexOf(n.cookieName)!==-1)return true;return false}function c(){if(window.location.hash.indexOf(n.forceHash)!==-1)return true;return false}var n={coverClass:"coverPop-cover",contentClass:"coverPop-content",fadeInDuration:500,fadeOutDuration:500,expires:30,jsCenter:false,closeClass:"coverPop-close",cookieName:"coverPop",onPopUpOpen:function(){},onPopUpClose:function(){},forceHash:"splash",closeOnEscape:true,info:false};e.extend(n,t);var r=e("html"),i=e("body"),s=e("."+n.coverClass),o=e("."+n.contentClass);return this.each(function(){function i(t){var n=t.height(),r=t.width(),i=e(window).width(),s=e(window).height();a("content height: "+n+", content width: "+r);t.css({position:"absolute",left:Math.round(i/2-r/2),top:Math.round(s/2-n/2-s/100*5),margin:0});a("centered")}function o(){function o(){if(u(n.onPopUpOpen)){n.onPopUpOpen.call(t);a("CoverPop is open.")}if(n.jsCenter){i(n.content);e(window).on("resize",function(){i(n.content)})}}r.addClass("coverPop-open");s.fadeIn(n.fadeInDuration,o);if(n.closeClass.length){e("."+n.closeClass).on("click",function(e){e.preventDefault();h()})}e(document).bind("keyup",p)}function h(){function i(){if(u(n.onPopUpClose)){n.onPopUpClose.call(t);a("CoverPop is closed.")}}r.removeClass("coverPop-open");r.removeClass("coverPop-open");s.fadeOut(n.fadeOutDuration,i);f();e(document).unbind("keyup",p)}function p(e){if(n.closeOnEscape){if(e.keyCode===27){h()}}}var t=e(this);if(l()===false||c()===true){o()}})}})(jQuery)
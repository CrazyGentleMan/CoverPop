(function(b){b.fn.coverPop=function(q){function j(c){var f={};return c&&f.toString.call(c)==="[object Function]"}function g(c){window.console&&window.console.log&&a.info&&window.console.log(c)}function r(){var c=new Date,f=a.expires;c.setTime(+c+f*864E5);document.cookie=a.cookieName+"=true; expires="+c.toGMTString()+"; path=/";g("Cookie "+a.cookieName+" set for "+f+" days away.")}var a={coverClass:"coverPop-cover",contentClass:"coverPop-content",fadeInDuration:500,fadeOutDuration:500,expires:30,jsCenter:false,
closeClassNoDefault:"coverPop-close",closeClassDefault:"coverPop-close-go",cookieName:"coverPop",onPopUpOpen:function(){},onPopUpClose:function(){},forceHash:"splash",closeOnEscape:true,info:false};b.extend(a,q);var h=b("html");b("body");var k=b("."+a.coverClass);b("."+a.contentClass);return this.each(function(){function c(d){var l=d.height(),m=d.width(),s=b(window).width(),n=b(window).height();g("content height: "+l+", content width: "+m);d.css({position:"absolute",left:Math.round(s/2-m/2),top:Math.round(n/
2-l/2-n/100*5),margin:0});g("centered")}function f(){h.addClass("coverPop-open");k.fadeIn(a.fadeInDuration,function(){if(j(a.onPopUpOpen)){a.onPopUpOpen.call(o);g("CoverPop is open.")}if(a.jsCenter){c(a.content);b(window).on("resize",function(){c(a.content)})}});a.closeClassNoDefault.length&&b(document).on("click","."+a.closeClassNoDefault,function(d){d.preventDefault();i()});a.closeClassDefault.length&&b(document).on("click","."+a.closeClassDefault,function(){i()});b(document).bind("keyup",p)}function i(){h.removeClass("coverPop-open");
h.removeClass("coverPop-open");k.fadeOut(a.fadeOutDuration,function(){if(j(a.onPopUpClose)){a.onPopUpClose.call(o);g("CoverPop is closed.")}});r();b(document).unbind("keyup",p)}function p(d){a.closeOnEscape&&d.keyCode===27&&i()}var o=b(this),e;e=document.cookie.indexOf(a.cookieName)!==-1?true:false;if(!(e=e===false)){e=window.location.hash.indexOf(a.forceHash)!==-1?true:false;e=e===true}e&&f()})}})(jQuery);